m = [
	# ".PNG........IHDR",
	# "...............C",
	# ".....IDATx......",

	# What am i rotating it by?

	# ignore for now
	# ".....Om...(..0`.",
	# "......0`.......0",
	# "`.......0`......",
	# ".0`.......0`....",
	# "...0`.......0`..",
	# ".....0`.......0`",
	# ".......0`.......",
	


	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",

	
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`$.7..",
	"..eDIHQ...j....I",
	"DAT`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`..........eDIH",
	"1...2....IDAT...",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"f.....eDIHRA....",
	"...IDAT..0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0Ty......",
	"eDIHG,.g;....IDA",
	"T`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	"..........eDIHe.",
	".&.....IDAT.....",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......f.",
	"....eDIH0.......",
	".IDAT..0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0Ty......eD",
	"IHRA.......IDAT`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	"........eDIHp.h.",
	"4....IDAT.....0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......f...",
	"..eDIHZO.......I",
	"DAT..0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0Ty......eDIH",
	"F[.W.....IDAT`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"......eDIHl.i.{.",
	"...IDAT.....0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......f.....",
	"eDIHv}.g.....IDA",
	"T..0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0Ty......eDIHd.",
	"..I....IDAT`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	"....eDIHU.l.s...",
	".IDAT.....0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......f.....eD",
	"IHt...-....IDAT.",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"Ty......eDIHu..6",
	".....IDAT`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`........",
	"..eDIHbg..|....I",
	"DAT.....0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......f.....eDIH",
	"3{.......IDAT..0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0Ty",
	"......eDIHd...I.",
	"...IDAT`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`..........",
	"eDIHQ...j....IDA",
	"T.....0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....f.....eDIHT.",
	"k&.....IDAT..0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0Ty..",
	"....eDIHk.......",
	".IDAT`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`..........eD",
	"IHd...I....IDAT.",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..f.....eDIHp.h.",
	"4....IDAT..0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0Ty....",
	"..eDIHc........I",
	"DAT`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`..........eDIH",
	"1...2....IDAT...",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"f.....eDIHB\\....",
	"...IDAT..0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0Ty......",
	"eDIHy..z.....IDA",
	"T`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	"..........eDIHbg",
	"..|....IDAT.....",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......f.",
	"....eDIH2.......",
	".IDAT..0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0Ty......eD",
	"IH5..w+....IDAT`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	"........eDIHv}.g",
	".....IDAT.....0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......f...",
	"..eDIHd...I....I",
	"DAT..0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0Ty......eDIH",
	"W1bw_....IDAT`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"......eDIH5..w+.",
	"...IDAT.....0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......f.....",
	"eDIHji.;N....IDA",
	"T..0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0Ty......eDIHZO",
	".......IDAT`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	"....eDIHW1bw_...",
	".IDAT.....0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......f.....eD",
	"IHRA.......IDAT.",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"Ty......eDIHQ...",
	"j....IDAT`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`........",
	"..eDIHS6..F....I",
	"DAT.....0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......f.....eDIH",
	"U.l.s....IDAT..0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0Ty",
	"......eDIH5..w+.",
	"...IDAT`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`..........",
	"eDIHH.jz.....IDA",
	"T.....0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....f.....eDIHP.",
	".......IDAT..0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0Ty..",
	"....eDIH3{......",
	".IDAT`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	"..0`..........eD",
	"IH0........IDAT.",
	"....0`.......0`.",
	"......0`.......0",
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	
	"0`.......0`.....",
	"..0`.......0`...",
	"....0`.......0`.",
	"......0`.......0",
	
	"`.......0`......",
	".0`.......0`....",
	"...0`.......0`..",
	".....0`.......0`",
	".......0`.......",
	"0`.......0`.....",
	# "UX$.....eDIH=...",
	# ".....IDAT..K....",
	# "  ......IEND.B`."
]

from PIL import Image, ImageFile
from collections import Counter
import base64
# Idea: put all the 0's in one place
# Idea: Find all non repeating patterns

def split(h, s):
	hsplit = h.split(s)
	ret = "".join([i for i in hsplit if i != ''])
	return ret

# Used this for cycle 9 onwards
def find_another(h):
	d = Counter()
	for j in range(4,20):
		for i in range(0, len(h)-j, 2):
			# print(h[i:i+j])
			d[h[i:i+j]] += 1
			if d[h[i:i+j]] == 3:
				print("Found", h[i:i+j], d[h[i:i+j]])

def attempt_1():
	# create new matrix of equal size
	# for every 2 values, make it equal to array[i][j:j+2]
	# ImageFile.LOAD_TRUNCATED_IMAGES = True

	# im = Image.open('./hideandseek.png')
	# cycle: 30 60 C0 80 01 03 06 0C 18 
	f = open('./hideandseek.png', 'rb').read()
	h = f.hex()
	cycle = '3060c0800103060c18'

	h_split = h.split(cycle)
	h2 = "".join([i for i in h_split if i != ''])

	# f2 = open('./temp.png', 'wb')
	# f2.write(bytes.fromhex(h2))

	# Second split
	cycle2= '183060c080d186b6a800000001654449'
	h3 = split(h2, cycle)


	# Third split
	# cycle3 = '000111494441'
	# h4 = split(h3, cycle3)
	# print
	cycle3 = '0000000165444948'
	h4 = split(h3, cycle3)

	cycle4 = '00000111494441540103060c183060c080010306d29c66d6'
	h5 = split(h4, cycle4)

	cycle5 = '000111494441540c183054798dc1'
	h6 = split(h5, cycle5)

	cycle6 = '0001114944415460c0800103060c183060c080d186b6'
	h7 = split(h6, cycle6)

	cycle7 = '648eb2164900'
	h8 = split(h7, cycle7)

	# cycle7 = '51d801d26a00'
	# h8 = split(h7, cycle7)

	cycle8 = '52410883d000'
	h9 = split(h8, cycle8)

	cycle9 = '51d801d26a'
	h10 = split(h9, cycle9)

	# find_another(h10)
	cycle10 = '3592de772b'
	h11 = split(h10, cycle10)

	find_another(h11)
	cycle11 = '49444154'
	# h12 = split(h11, cycle11)

	# cycle12 = '337bbdd21e00'
	# h13 = split(h12, cycle12)

	# cycle13 = 'a86267d1b37c'
	# h14 = split(h13, cycle13)

	# cycle13 = '3592de772b00'
	# h14 = split(h13, cycle13)


	f2 = open('./temp.png', 'wb')
	f2.write(bytes.fromhex(h11))	

def attempt2():
	# eDIH values
	f = open('hideandseek.png', 'rb').read()
	ret = ''
	i = 8
	while i < len(f):
		l = int(f[i:i+4].hex(),16)

		t = f[i:i+8]
		c = f[i+8 : i+8+l]
		if b'eDIH' in t:
			print("Values ", t, l, c)
			ret += c.decode()
		crc = f[i+8+l:i+8+l+4]
		i+= 8 + l + 4
	print(base64.b64decode(ret))
	# Flag: CTF{DidYouKnowPNGisPronouncedPING?}


def main():
	attempt2()
	




if __name__ == '__main__':
	main()


